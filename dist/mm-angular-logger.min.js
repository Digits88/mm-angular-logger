/**
 * An AngularJS module that provides enhanced support for $log service.
 * @version v0.0.0 - 2014-07-23
 * @link https://github.com/martinmicunda/mm-angular-logger
 * @author Martin Micunda
 * @copyright 2014(c) Martin Micunda
 * @license MIT, https://github.com/martinmicunda/mm-angular-logger/blob/master/LICENSE
 */
!function(){"use strict";function n(){var n=!0,t=["info","warn","debug","error"];this.level={LOG:"log",INFO:"info",WARN:"warn",DEBUG:"debug",ERROR:"error"},this.disabled=function(e){t=e||t,n=!1},this.$get=["$log","LoggerUtils",function(e,r){var u=function(n){this.name=void 0!==n?n:""};return u.prototype={_log:function(u,o){if(n||-1===t.indexOf(u)){var i=r.buildTimeString(new Date),a="",s=[],g=null;switch(o.length){case 1:a=r.supplant("{0} [{1}] {2}: {3}",[i,u,this.name,o[0]]);break;case 2:s=o[1],a=r.supplant("{0} [{1}] {2}: {3}",[i,u,this.name,o[0]]);break;case 3:g=o[2],a=r.supplant("{0} [{1}] {2}: {3}",[i,u,this.name,o[0]])}g?e[u].call(null,r.supplant(a,s),g):e[u].call(null,r.supplant(a,s))}},log:function(){this._log("log",arguments)},info:function(){this._log("info",arguments)},warn:function(){this._log("warn",arguments)},debug:function(){this._log("debug",arguments)},error:function(){this._log("error",arguments)}},u.getLogger=function(n){return new u(n)},u}]}function t(){return{buildTimeString:function(n,t){function e(n,t){return"undefined"==typeof t&&(t=!1),t&&(10>n?n="00"+n:100>n&&(n="0"+n)),n.toString().length<2?"0"+n:n}return t=t||"%Y-%M-%d %h:%m:%s.%z",t.replace(/%([a-zA-Z])/g,function(t,r){switch(r){case"Y":return n.getFullYear();case"M":return e(n.getMonth()+1);case"d":return e(n.getDate());case"h":return e(n.getHours());case"m":return e(n.getMinutes());case"s":return e(n.getSeconds());case"z":return e(n.getMilliseconds(),!0);default:throw new Error("Unsupported format code: "+r)}})},supplant:function(n,t,e){return e=e||/\{([^\{\}]*)\}/g,n.replace(e,function(n,e){var r=e.split("."),u=t;try{for(var o in r)u=u[r[o]]}catch(i){u=n}return"string"==typeof u||"number"==typeof u?u:n})}}}angular.module("mm.logger",[]).provider("Logger",n).factory("LoggerUtils",t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW0tYW5ndWxhci1sb2dnZXIuanMiLCJzb3VyY2VzIjpbIm1tLWFuZ3VsYXItbG9nZ2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsWUFzRkEsU0FBQSxLQU1BLEdBQUEsSUFBQSxFQU1BLEdBQUEsT0FBQSxPQUFBLFFBQUEsUUFNQSxNQUFBLE9BQ0EsSUFBQSxNQUNBLEtBQUEsT0FDQSxLQUFBLE9BQ0EsTUFBQSxRQUNBLE1BQUEsU0FXQSxLQUFBLFNBQUEsU0FBQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEdBQUEsR0FFQSxLQUFBLE1BQUEsT0FBQSxjQUFBLFNBQUEsRUFBQSxHQVFBLEdBQUEsR0FBQSxTQUFBLEdBS0EsS0FBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBNEdBLE9BekdBLEdBQUEsV0FXQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FDQSxLQUFBLEVBQUEsUUFBQSxHQURBLENBTUEsR0FBQSxHQUFBLEVBQUEsZ0JBQUEsR0FBQSxPQUNBLEVBQUEsR0FBQSxLQUFBLEVBQUEsSUFDQSxRQUFBLEVBQUEsUUFDQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsc0JBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLElBQ0EsTUFDQSxLQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsc0JBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLElBQ0EsTUFDQSxLQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsc0JBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEtBSUEsRUFDQSxFQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsR0FFQSxFQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLE1BVUEsSUFBQSxXQUNBLEtBQUEsS0FBQSxNQUFBLFlBU0EsS0FBQSxXQUNBLEtBQUEsS0FBQSxPQUFBLFlBU0EsS0FBQSxXQUNBLEtBQUEsS0FBQSxPQUFBLFlBU0EsTUFBQSxXQUNBLEtBQUEsS0FBQSxRQUFBLFlBU0EsTUFBQSxXQUNBLEtBQUEsS0FBQSxRQUFBLGFBYUEsRUFBQSxVQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsR0FBQSxJQUdBLElBWUEsUUFBQSxLQUNBLE9Bc0JBLGdCQUFBLFNBQUEsRUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEdBWUEsTUFYQSxtQkFBQSxLQUNBLEdBQUEsR0FHQSxJQUNBLEdBQUEsRUFDQSxFQUFBLEtBQUEsRUFDQSxJQUFBLElBQ0EsRUFBQSxJQUFBLElBR0EsRUFBQSxXQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsRUFHQSxNQWpCQSxHQUFBLEdBQUEsdUJBaUJBLEVBQUEsUUFBQSxlQUFBLFNBQUEsRUFBQSxHQUNBLE9BQUEsR0FDQSxJQUFBLElBQ0EsTUFBQSxHQUFBLGFBQ0EsS0FBQSxJQUNBLE1BQUEsR0FBQSxFQUFBLFdBQUEsRUFDQSxLQUFBLElBQ0EsTUFBQSxHQUFBLEVBQUEsVUFDQSxLQUFBLElBQ0EsTUFBQSxHQUFBLEVBQUEsV0FDQSxLQUFBLElBQ0EsTUFBQSxHQUFBLEVBQUEsYUFDQSxLQUFBLElBQ0EsTUFBQSxHQUFBLEVBQUEsYUFDQSxLQUFBLElBQ0EsTUFBQSxHQUFBLEVBQUEsbUJBQUEsRUFDQSxTQUNBLEtBQUEsSUFBQSxPQUFBLDRCQUFBLE9BNEJBLFNBQUEsU0FBQSxFQUFBLEVBQUEsR0FHQSxNQUZBLEdBQUEsR0FBQSxrQkFFQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEtBQ0EsRUFBQSxDQUVBLEtBQ0EsSUFBQSxHQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxJQUVBLE1BQUEsR0FDQSxFQUFBLEVBR0EsTUFBQSxnQkFBQSxJQUFBLGdCQUFBLEdBQUEsRUFBQSxNQU1BLFFBQ0EsT0FBQSxnQkFDQSxTQUFBLFNBQUEsR0FDQSxRQUFBLGNBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtb2R1bGVcbiAgICAgKiBAbmFtZSBtbS5sb2dnZXJcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoZSBgbW0ubG9nZ2VyYCBtb2R1bGUgcHJvdmlkZXMgZW5oYW5jZWQgc3VwcG9ydCBmb3IgQW5ndWxhcidzIHtAbGluayBodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcvc2VydmljZS8kbG9nIGAkbG9nYH0gc2VydmljZS5cbiAgICAgKiBUaGlzIG1vZHVsZSBhZGRzIG1vcmUgZmVhdHVyZXMgZm9yIGAkbG9nYCBzZXJ2aWNlIGxpa2UgYSB0aW1lc3RhbXAsIGhpbnQgYWJvdXQgd2hlcmUgdGhlIG1lc3NhZ2Ugd2FzIGNyZWF0ZWQsIHR1cm4gb2ZmIGFsbFxuICAgICAqIG9yIHNwZWNpZmljIGtpbmQgb2YgbWVzc2FnZXMgKGxpa2UgaW5mbygpIGFuZCBkZWJ1ZygpKS5cbiAgICAgKlxuICAgICAqICMgRXhhbXBsZVxuICAgICAqIFNlZSB7QGxpbmsgbW0ubG9nZ2VyLkxvZ2dlciNleGFtcGxlIExvZ2dlcn0gZm9yIGFuIGV4YW1wbGUgb2YgY29uZmlndXJpbmcgYW5kIHVzaW5nIGBMb2dnZXJgLlxuICAgICAqXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgcHJvdmlkZXJcbiAgICAgKiBAbmFtZSBMb2dnZXJQcm92aWRlclxuICAgICAqIEBtb2R1bGUgbW0ubG9nZ2VyXG4gICAgICogQHJlcXVpcmVzIG5nLiRsb2dcbiAgICAgKiBAcmVxdWlyZXMgTG9nZ2VyVXRpbHNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFVzZSB0aGUgYExvZ2dlclByb3ZpZGVyYCB0byBjb25maWd1cmUgaG93IHRoZSBhcHBsaWNhdGlvbiBsb2dzIG1lc3NhZ2VzLlxuICAgICAqXG4gICAgICogQHVzYWdlXG4gICAgICogVGhlIGRlZmF1bHQgaXMgdG8gbG9nIGFsbCBraW5kIG9mIG1lc3NhZ2VzLiBUaGlzIGNhbiBiZSBkaXNhYmxlZCBieSBjb25maWd1cmluZyB0aGUgYExvZ2dlclByb3ZpZGVyYCBsaWtlIHRoaXM6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgYW5ndWxhci5tb2R1bGUoJ2xvZ2dlclByb3ZpZGVyRGVtbycsIFtdKS5jb25maWcoWydMb2dnZXJQcm92aWRlcicsIGZ1bmN0aW9uIChMb2dnZXJQcm92aWRlcikge1xuICAgICAqICAgICAgTG9nZ2VyUHJvdmlkZXIuZGlzYWJsZWQoKTtcbiAgICAgKiAgIH1dKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIG9yIGRpc2FibGUgb25seSBjZXJ0YWluIGtpbmQgb2YgbWVzc2FnZXMgbGlrZSB0aGlzOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIGFuZ3VsYXIubW9kdWxlKCdsb2dnZXJQcm92aWRlckRlbW8nLCBbXSkuY29uZmlnKFsnTG9nZ2VyUHJvdmlkZXInLCBmdW5jdGlvbiAoTG9nZ2VyUHJvdmlkZXIpIHtcbiAgICAgKiAgICAgIExvZ2dlclByb3ZpZGVyLmRpc2FibGVkKFtMb2dnZXJQcm92aWRlci5sZXZlbC5JTkZPLCBMb2dnZXJQcm92aWRlci5sZXZlbC5ERUJVR10pO1xuICAgICAqICAgfV0pO1xuICAgICAqIGBgYFxuICAgICAqID4gKipOb3RlOioqIFRoZXJlIGFyZSA1IGxvZyBsZXZlbHMgYXQgdGhlIG1vbWVudDpcbiAgICAgKiAtIExvZ2dlclByb3ZpZGVyLmxldmVsLkxPR1xuICAgICAqIC0gTG9nZ2VyUHJvdmlkZXIubGV2ZWwuSU5GT1xuICAgICAqIC0gTG9nZ2VyUHJvdmlkZXIubGV2ZWwuREVCVUdcbiAgICAgKiAtIExvZ2dlclByb3ZpZGVyLmxldmVsLldBUk5cbiAgICAgKiAtIExvZ2dlclByb3ZpZGVyLmxldmVsLkVSUk9SXG4gICAgICpcbiAgICAgKiBUaGlzIGxvZ2dlciBzdXBwb3J0IGludGVycG9sYXRlIHZhcmlhYmxlcyBpbnRvIHRoZSBtZXNzYWdlIHN0cmluZyBzbyB0aGVzZSBhcmUgdmFsaWQgbG9nZ2VyIGltcGxlbWVudGF0aW9uczpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICB2YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcignTG9nZ2VyRXhhbXBsZScpOyAvLyBOYW1lIG9mIHRoZSBmaWxlIC8gY2xhc3MgLyBtb2R1bGVcbiAgICAgKiAgIGxvZ2dlci5sb2coJ1RoaXMgaXMgYW4gbG9nIG1lc3NhZ2UuJyk7IC8vIFwiMjAxNC0wNy0xOCAxNTo1MzoyMi44MzEgW2xvZ10gTG9nZ2VyRXhhbXBsZTogVGhpcyBpcyBhbiBpbmZvIG1lc3NhZ2UuXCJcbiAgICAgKiAgIGxvZ2dlci5pbmZvKCdUaGlzIGlzIGFuIGluZm8gbWVzc2FnZSB3aXRoIHswfScsIFsnaW50ZXJwb2xhdGUgdmFyaWFibGUuJ10pOyAvLyBcIjIwMTQtMDctMTggMTU6NTM6MjIuODMyIFtpbmZvXSBMb2dnZXJFeGFtcGxlOiBUaGlzIGlzIGFuIGluZm8gbWVzc2FnZSB3aXRoIGludGVycG9sYXRlIHZhcmlhYmxlLlwiXG4gICAgICogICBsb2dnZXIuZXJyb3IoJ1RoaXMgaXMgYSB7MH0gZXJyb3IhIHsxfScsIFsgJ2JpZycsICdKdXN0IGtpZGRpbmchJyBdKTsgLy8gXCIyMDE0LTA3LTE4IDE1OjUzOjIyLjgzMyBbd2Fybl0gTG9nZ2VyRXhhbXBsZTogVGhpcyBpcyBhIGJpZyBlcnJvciEgSnVzdCBraWRkaW5nIVwiXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGlzIGxvZ2dlciBpcyBhbHNvIHdvcmtpbmcgd2l0aCBleGNlcHRpb24gdGhhdCBoYXZlIGEgdHlwZSBvZiBgRXJyb3JgOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIGxvZ2dlci5lcnJvcihtc2csIG51bGwsIGV4Y2VwdGlvbik7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgPGV4YW1wbGUgbW9kdWxlPVwibG9nRXhhbXBsZVwiPlxuICAgICAgICAgICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2xvZ2dlckV4YW1wbGUnLCBbbW0ubG9nZ2VyXSlcbiAgICAgICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0xvZ2dlckNvbnRyb2xsZXInLCBbJyRzY29wZScsICdMb2dnZXInLCBmdW5jdGlvbigkc2NvcGUsIExvZ2dlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoJ0xvZ2dlckNvbnRyb2xsZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gJ0hlbGxvIFdvcmxkISc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0pO1xuICAgICAgICAgICAgIDwvZmlsZT5cbiAgICAgICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgICAgICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJMb2dnZXJDb250cm9sbGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICA8cD5SZWxvYWQgdGhpcyBwYWdlIHdpdGggb3BlbiBjb25zb2xlLCBlbnRlciB0ZXh0IGFuZCBoaXQgdGhlIGxvZyBidXR0b24uLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICBNZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtZXNzYWdlXCIvPlxuICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImxvZ2dlci5sb2cobWVzc2FnZSlcIj5sb2c8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJsb2dnZXIud2FybihtZXNzYWdlKVwiPndhcm48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJsb2dnZXIuaW5mbyhtZXNzYWdlKVwiPmluZm88L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJsb2dnZXIuZXJyb3IobWVzc2FnZSlcIj5lcnJvcjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICA8L2ZpbGU+XG4gICAgICAgICA8L2V4YW1wbGU+XG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9nZ2VyUHJvdmlkZXIoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGbGFnIHRvIHR1cm4gb24vb2ZmIGxvZ2dlclxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHZhciBpc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9nIGxldmVsc1xuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAdHlwZSB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgb3B0aW9ucyA9IFsnaW5mbycsICd3YXJuJywgJ2RlYnVnJywgJ2Vycm9yJ107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvZyBsZXZlbHNcbiAgICAgICAgICogQHR5cGUge3tJTkZPOiBzdHJpbmcsIFdBUk46IHN0cmluZywgREVCVUc6IHN0cmluZywgRVJST1I6IHN0cmluZ319XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxldmVsID0ge1xuICAgICAgICAgICAgTE9HOiAnbG9nJyxcbiAgICAgICAgICAgIElORk86ICdpbmZvJyxcbiAgICAgICAgICAgIFdBUk46ICd3YXJuJyxcbiAgICAgICAgICAgIERFQlVHOiAnZGVidWcnLFxuICAgICAgICAgICAgRVJST1I6ICdlcnJvcidcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICogQG5hbWUgTG9nZ2VyUHJvdmlkZXIjZGlzYWJsZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAqIERpc2FibGUgYWxsIGxvZyBtZXNzYWdlcyBvciBkaXNhYmxlIG9ubHkgY2VydGFpbiBraW5kIG9mIGxvZyBtZXNzYWdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmdbXT19IF9vcHRpb25zIC0gYW4gb3B0aW9uYWwgYXJyYXkgb2YgbG9nIGxldmVsIG9wdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlzYWJsZWQgPSBmdW5jdGlvbiAoX29wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBfb3B0aW9ucyB8fCBvcHRpb25zO1xuICAgICAgICAgICAgaXNFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuJGdldCA9IFsnJGxvZycsICdMb2dnZXJVdGlscycsIGZ1bmN0aW9uICgkbG9nLCBMb2dnZXJVdGlscykge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAqIEEgTG9nZ2VyIGNsYXNzXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSB0aGUgbG9nZ2VyIG5hbWUgKG5hbWUgb2YgdGhlIGZpbGUsIGNsYXNzIG9yIG1vZHVsZSlcbiAgICAgICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgTG9nZ2VyID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBAdHlwZSB7c3RyaW5nfSAtIHRoZSBsb2dnZXIgbmFtZSAobmFtZSBvZiB0aGUgZmlsZSwgY2xhc3Mgb3IgbW9kdWxlKVxuICAgICAgICAgICAgICAgICAqIEBkZWZhdWx0ICcnXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5uYW1lID0gKG5hbWUgIT09IHVuZGVmaW5lZCkgPyBuYW1lIDogJyc7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBMb2dnZXIucHJvdG90eXBlID0ge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgICAgICAgKiBAbmFtZSBMb2dnZXIjX2xvZ1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uIE92ZXJ3cml0ZSBuZy4kbG9nIG1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gb3JpZ2luYWxMb2dGbiAtICRsb2cgZnVuY3Rpb24gbmFtZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7Kn0gYXJncyAtIGluZm9ybWF0aW9uIGxpa2UgbWVzc2FnZSwgZXJyb3JzLCBpbnRlcnBvbGF0aW9uIG9iamVjdFxuICAgICAgICAgICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgX2xvZzogZnVuY3Rpb24gKG9yaWdpbmFsTG9nRm4sIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0VuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgob3B0aW9ucy5pbmRleE9mKG9yaWdpbmFsTG9nRm4pICE9PSAtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgbm93ID0gTG9nZ2VyVXRpbHMuYnVpbGRUaW1lU3RyaW5nKG5ldyBEYXRlKCkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICcnLCBzdXBwbGFudERhdGEgPSBbXSwgZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IExvZ2dlclV0aWxzLnN1cHBsYW50KCd7MH0gW3sxfV0gezJ9OiB7M30nLCBbbm93LCBvcmlnaW5hbExvZ0ZuLCB0aGlzLm5hbWUsIGFyZ3NbMF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXBwbGFudERhdGEgPSBhcmdzWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBMb2dnZXJVdGlscy5zdXBwbGFudCgnezB9IFt7MX1dIHsyfTogezN9JywgW25vdywgb3JpZ2luYWxMb2dGbiwgdGhpcy5uYW1lLCBhcmdzWzBdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBhcmdzWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBMb2dnZXJVdGlscy5zdXBwbGFudCgnezB9IFt7MX1dIHsyfTogezN9JywgW25vdywgb3JpZ2luYWxMb2dGbiwgdGhpcy5uYW1lLCBhcmdzWzBdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZXJyb3IgaXMgbm90IG51bGwgdGhlbiBwYXNzIGVycm9yIHRvICRsb2cgc2VydmljZSBhbmQgbGV0ICRsb2cgc2VydmljZSB0byBkZWFsIHdpdGggaXQgKCRsb2cgc2VydmljZSBjb250YWlucyB0aGUgY29kZSB0aGF0IGNhbiBoYW5kbGUgZXhjZXB0aW9ucyBldGMuKVxuICAgICAgICAgICAgICAgICAgICBpZihlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGxvZ1tvcmlnaW5hbExvZ0ZuXS5jYWxsKG51bGwsIExvZ2dlclV0aWxzLnN1cHBsYW50KG1lc3NhZ2UsIHN1cHBsYW50RGF0YSksIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2dbb3JpZ2luYWxMb2dGbl0uY2FsbChudWxsLCBMb2dnZXJVdGlscy5zdXBwbGFudChtZXNzYWdlLCBzdXBwbGFudERhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAgICAgICAqIEBuYW1lIExvZ2dlciNsb2dcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAqIFdyaXRlIGEgbG9nIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBsb2c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdsb2cnLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAgICAgICAqIEBuYW1lIExvZ2dlciNpbmZvXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgKiBXcml0ZSBhIGluZm8gbWVzc2FnZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGluZm86IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdpbmZvJywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgICAgICAgKiBAbmFtZSBMb2dnZXIjd2FyblxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICogV3JpdGUgYSB3YXJuIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB3YXJuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnd2FybicsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICAgICAgICogQG5hbWUgTG9nZ2VyI2RlYnVnXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgKiBXcml0ZSBhIGRlYnVnIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBkZWJ1ZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ2RlYnVnJywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgICAgICAgKiBAbmFtZSBMb2dnZXIjZXJyb3JcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAqIFdyaXRlIGEgZXJyb3IgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnZXJyb3InLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgICAqIEBuYW1lIExvZ2dlciNnZXRMb2dnZXJcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAqIFJldHVybiB0aGUgbmV3IGNyZWF0ZWQgbG9nZ2VyIGluc3RhbmNlLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gdGhlIGxvZ2dlciBuYW1lIChuYW1lIG9mIHRoZSBmaWxlLCBjbGFzcyBvciBtb2R1bGUpXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7TG9nZ2VyfSB0aGUgbmV3IGNyZWF0ZWQgTG9nZ2VyIGluc3RhbmNlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIExvZ2dlci5nZXRMb2dnZXIgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTG9nZ2VyKG5hbWUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIExvZ2dlcjtcbiAgICAgICAgfV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5nZG9jIHNlcnZpY2VcbiAgICAgKiBAbmFtZSBMb2dnZXJVdGlsc1xuICAgICAqIEBtb2R1bGUgbW0ubG9nZ2VyXG4gICAgICpcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiBVdGlsaXRpZXMgZm9yIGBMb2dnZXJgIGxpa2UgYnVpbGQgZGF0ZSB0aW1lc3RhbXAgc3RyaW5nLCBzdHJpbmcgc3VwcGxhbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9nZ2VyVXRpbHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgICAqIEBuYW1lIExvZ2dlclV0aWxzI2J1aWxkVGltZVN0cmluZ1xuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgKiBEYXRlVGltZSB1dGlsaXR5IHRoYXQgc3BpdHMgb3V0IFVUQyB0aW1lc3RhbXAgc3RyaW5ncyB1c3VhbGx5IHVzZWQgaW4gYSByZXBvcnRpbmcsIHByaW50LWNhcGFibGUgcHJvY2Vzcy5cbiAgICAgICAgICAgICAqIElmIHRoZSBmb3JtYXQgYXJndW1lbnQgaXMgbm90IHBhc3MgdGhlbiBkZWZhdWx0IGZvcm1hdCBpcyBgJVktJU0tJWQgJWg6JW06JXMuJXpgIGUuZy46ICgyMDE0LTA3LTE3IDE1OjE0OjA1LjA5NCkuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogIyBVc2FnZVxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIGBgYGpzXG4gICAgICAgICAgICAgKiAgIGFuZ3VsYXIubW9kdWxlKCdsb2dnZXJVdGlsc0J1aWxkVGltZVN0cmluZ0RlbW8nLCBbXSkuY29uZmlnKFsnTG9nZ2VyVXRpbHMnLCBmdW5jdGlvbiAoTG9nZ2VyVXRpbHMpIHtcbiAgICAgICAgICAgICAqICAgICAgdmFyIG5vdyA9IExvZ2dlclV0aWxzLmJ1aWxkVGltZVN0cmluZyhuZXcgRGF0ZSgpKTtcbiAgICAgICAgICAgICAqICAgICAgY29uc29sZS5sb2cobm93KTsgLy8gd2lsbCBwcmludCAyMDE0LTA3LTE3IDE1OjE0OjA1LjA5NFxuICAgICAgICAgICAgICogICB9XSk7XG4gICAgICAgICAgICAgKiBgYGBcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0RhdGV9IGRhdGUgLSB0aGUgY3VycmVudCBkYXRlXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGZvcm1hdCAtIHRoZSBvcHRpb25hbCB0aW1lc3RhbXAgc3RyaW5nIGZvcm1hdFxuICAgICAgICAgICAgICogQHRocm93cyAoU3RyaW5nKVxuICAgICAgICAgICAgICogQHJldHVybnMgeyp9IHRoZSBuZXcgY3JlYXRlZCBkYXRlIHRpbWVzdGFtcCBzdHJpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYnVpbGRUaW1lU3RyaW5nOiBmdW5jdGlvbiAoZGF0ZSwgZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICclWS0lTS0lZCAlaDolbTolcy4leic7XG5cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBwYWQodmFsdWUsIGlzTWlsbGlTZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKGlzTWlsbGlTZWNvbmRzKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTWlsbGlTZWNvbmRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNaWxsaVNlY29uZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnMDAnICsgdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIDwgMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAnMCcgKyB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4odmFsdWUudG9TdHJpbmcoKS5sZW5ndGggPCAyKSA/ICcwJyArIHZhbHVlIDogdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdC5yZXBsYWNlKC8lKFthLXpBLVpdKS9nLCBmdW5jdGlvbiAoXywgZm10Q29kZSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGZtdENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1knOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFkKGRhdGUuZ2V0TW9udGgoKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhZChkYXRlLmdldERhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFkKGRhdGUuZ2V0SG91cnMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdtJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFkKGRhdGUuZ2V0TWludXRlcygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWQoZGF0ZS5nZXRTZWNvbmRzKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAneic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhZChkYXRlLmdldE1pbGxpc2Vjb25kcygpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBmb3JtYXQgY29kZTogJyArIGZtdENvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICAgKiBAbmFtZSBMb2dnZXJVdGlscyNzdXBwbGFudFxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgKiBTdHJpbmcgc3VwcGxhbnQgdXRpbGl0eSAoc2ltaWxhciB0byBidXQgbW9yZSBwb3dlcmZ1bCB0aGFuIHNwcmludGYoKSkuIERvZXMgdmFyaWFibGUgc3Vic3RpdHV0aW9uIG9uIHRoZSBzdHJpbmcuXG4gICAgICAgICAgICAgKiBJdCBzY2FucyB0aHJvdWdoIHRoZSBzdHJpbmcgbG9va2luZyBmb3IgZXhwcmVzc2lvbnMgZW5jbG9zZWQgaW4geyB9IGJyYWNlcy4gSWYgYW4gZXhwcmVzc2lvbiBpcyBmb3VuZCwgdXNlIGl0XG4gICAgICAgICAgICAgKiBhcyBhIGtleSBvbiB0aGUgb2JqZWN0LCBhbmQgaWYgdGhlIGtleSBoYXMgYSBzdHJpbmcgdmFsdWUgb3IgbnVtYmVyIHZhbHVlLCBpdCBpcyBzdWJzdGl0dXRlZCBmb3IgdGhlIGJyYWNrZXRcbiAgICAgICAgICAgICAqIGV4cHJlc3Npb24gYW5kIGl0IHJlcGVhdHMuXG4gICAgICAgICAgICAgKiBAc2VlIGh0dHA6Ly9qYXZhc2NyaXB0LmNyb2NrZm9yZC5jb20vcmVtZWRpYWwuaHRtbFxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqICMgVXNhZ2VcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgICAgICogICBhbmd1bGFyLm1vZHVsZSgnbG9nZ2VyVXRpbHNTdXBwbGFudERlbW8nLCBbXSkuY29uZmlnKFsnTG9nZ2VyVXRpbHMnLCBmdW5jdGlvbiAoTG9nZ2VyVXRpbHMpIHtcbiAgICAgICAgICAgICAqICAgICAgdmFyIG1lc3NhZ2UgPSBMb2dnZXJVdGlscy5zdXBwbGFudCgnezB9IFt7MX1dIHsyfTogezN9JywgWyBMb2dnZXJVdGlscy5idWlsZFRpbWVTdHJpbmcobmV3IERhdGUoKSksICdpbmZvJywgJ1NlYXJjaEN0cmwnLCAnVGhpcyBpcyBhIGluZm8gbWVzc2FnZS4nIF0pXG4gICAgICAgICAgICAgKiAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpOyAvLyB3aWxsIHByaW50IDIwMTQtMDctMTcgMTU6MTQ6MDUuMDk0IFtpbmZvXSBTZWFyY2hDdHJsOiBUaGlzIGlzIGEgaW5mbyBtZXNzYWdlLlxuICAgICAgICAgICAgICogICB9XSk7XG4gICAgICAgICAgICAgKiBgYGBcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3RlbXBsYXRlfSB0ZW1wbGF0ZSAtIHRoZSBleHByZXNzaW9ucyBlbmNsb3NlZCBpbiB7IH0gYnJhY2VzXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3ZhbHVlc1tdfSB2YWx1ZXMgLSB0aGUgYXJyYXkgb2Ygc3RyaW5nIHBhcmFtIHRoYXQgc2hvdWxkIGJlIHN1YnN0aXR1dGVkXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3BhdHRlcm49fSBwYXR0ZXJuIC0gdGhlIHJlZ2V4IHBhdHRlcm5cbiAgICAgICAgICAgICAqIEByZXR1cm5zIHsqfSB0aGUgdmFyaWFibGUgc3Vic3RpdHV0aW9uIG9uIHRoZSBzdHJpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3VwcGxhbnQ6IGZ1bmN0aW9uICh0ZW1wbGF0ZSwgdmFsdWVzLCBwYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IHBhdHRlcm4gfHwgL1xceyhbXlxce1xcfV0qKVxcfS9nO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UocGF0dGVybiwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBiLnNwbGl0KCcuJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByID0gdmFsdWVzO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzIGluIHApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByID0gcltwW3NdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgciA9IGE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHR5cGVvZiByID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgciA9PT0gJ251bWJlcicpID8gciA6IGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdtbS5sb2dnZXInLCBbXSlcbiAgICAgICAgLnByb3ZpZGVyKCdMb2dnZXInLCBMb2dnZXJQcm92aWRlcilcbiAgICAgICAgLmZhY3RvcnkoJ0xvZ2dlclV0aWxzJywgTG9nZ2VyVXRpbHMpO1xufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==