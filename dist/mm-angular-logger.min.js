/**
 * An AngularJS module that provides enhanced support for $log service.
 * @version v0.0.0 - 2014-07-22
 * @link https://github.com/martinmicunda/mm-angular-logger
 * @author Martin Micunda
 * @copyright 2014(c) Martin Micunda
 * @license MIT, https://github.com/martinmicunda/mm-angular-logger/blob/master/LICENSE
 */
!function(){"use strict";function n(){var n=!0,t=["info","warn","debug","error"];this.level={LOG:"log",INFO:"info",WARN:"warn",DEBUG:"debug",ERROR:"error"},this.disabled=function(e){t=e||t,n=!1},this.$get=["$log","LoggerUtils",function(e,r){var u=function(n){this.name=void 0!==n?n:""};return u.prototype={_log:function(u,o){if(n||-1===t.indexOf(u)){var i=r.buildTimeString(new Date),a="",s=[],g=null;switch(o.length){case 1:a=r.supplant("{0} [{1}] {2}: {3}",[i,u,this.name,o[0]]);break;case 2:s=o[1],a=r.supplant("{0} [{1}] {2}: {3}",[i,u,this.name,o[0]]);break;case 3:g=o[2],a=r.supplant("{0} [{1}] {2}: {3}",[i,u,this.name,o[0]])}g?e[u].call(null,r.supplant(a,s),g):e[u].call(null,r.supplant(a,s))}},log:function(){this._log("log",arguments)},info:function(){this._log("info",arguments)},warn:function(){this._log("warn",arguments)},debug:function(){this._log("debug",arguments)},error:function(){this._log("error",arguments)}},u.getLogger=function(n){return new u(n)},u}]}function t(){return{buildTimeString:function(n,t){function e(n,t){return"undefined"==typeof t&&(t=!1),t&&(10>n?n="00"+n:100>n&&(n="0"+n)),n.toString().length<2?"0"+n:n}return t=t||"%Y-%M-%d %h:%m:%s.%z",t.replace(/%([a-zA-Z])/g,function(t,r){switch(r){case"Y":return n.getFullYear();case"M":return e(n.getMonth()+1);case"d":return e(n.getDate());case"h":return e(n.getHours());case"m":return e(n.getMinutes());case"s":return e(n.getSeconds());case"z":return e(n.getMilliseconds(),!0);default:throw new Error("Unsupported format code: "+r)}})},supplant:function(n,t,e){return e=e||/\{([^\{\}]*)\}/g,n.replace(e,function(n,e){var r=e.split("."),u=t;try{for(var o in r)u=u[r[o]]}catch(i){u=n}return"string"==typeof u||"number"==typeof u?u:n})}}}angular.module("mm.logger",[]).provider("Logger",n).factory("LoggerUtils",t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW0tYW5ndWxhci1sb2dnZXIuanMiLCJzb3VyY2VzIjpbIm1tLWFuZ3VsYXItbG9nZ2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBLFdBQ0EsWUFzRkEsU0FBQSxLQU1BLEdBQUEsSUFBQSxFQU1BLEdBQUEsT0FBQSxPQUFBLFFBQUEsUUFNQSxNQUFBLE9BQ0EsSUFBQSxNQUNBLEtBQUEsT0FDQSxLQUFBLE9BQ0EsTUFBQSxRQUNBLE1BQUEsU0FXQSxLQUFBLFNBQUEsU0FBQSxHQUNBLEVBQUEsR0FBQSxFQUNBLEdBQUEsR0FFQSxLQUFBLE1BQUEsT0FBQSxjQUFBLFNBQUEsRUFBQSxHQVFBLEdBQUEsR0FBQSxTQUFBLEdBS0EsS0FBQSxLQUFBLFNBQUEsRUFBQSxFQUFBLEdBNEdBLE9BekdBLEdBQUEsV0FXQSxLQUFBLFNBQUEsRUFBQSxHQUNBLEdBQUEsR0FDQSxLQUFBLEVBQUEsUUFBQSxHQURBLENBTUEsR0FBQSxHQUFBLEVBQUEsZ0JBQUEsR0FBQSxPQUNBLEVBQUEsR0FBQSxLQUFBLEVBQUEsSUFDQSxRQUFBLEVBQUEsUUFDQSxJQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsc0JBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLElBQ0EsTUFDQSxLQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsc0JBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLElBQ0EsTUFDQSxLQUFBLEdBQ0EsRUFBQSxFQUFBLEdBQ0EsRUFBQSxFQUFBLFNBQUEsc0JBQUEsRUFBQSxFQUFBLEtBQUEsS0FBQSxFQUFBLEtBSUEsRUFDQSxFQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLEdBQUEsR0FFQSxFQUFBLEdBQUEsS0FBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLE1BVUEsSUFBQSxXQUNBLEtBQUEsS0FBQSxNQUFBLFlBU0EsS0FBQSxXQUNBLEtBQUEsS0FBQSxPQUFBLFlBU0EsS0FBQSxXQUNBLEtBQUEsS0FBQSxPQUFBLFlBU0EsTUFBQSxXQUNBLEtBQUEsS0FBQSxRQUFBLFlBU0EsTUFBQSxXQUNBLEtBQUEsS0FBQSxRQUFBLGFBYUEsRUFBQSxVQUFBLFNBQUEsR0FDQSxNQUFBLElBQUEsR0FBQSxJQUdBLElBWUEsUUFBQSxLQUNBLE9Bc0JBLGdCQUFBLFNBQUEsRUFBQSxHQUdBLFFBQUEsR0FBQSxFQUFBLEdBWUEsTUFYQSxtQkFBQSxLQUNBLEdBQUEsR0FHQSxJQUNBLEdBQUEsRUFDQSxFQUFBLEtBQUEsRUFDQSxJQUFBLElBQ0EsRUFBQSxJQUFBLElBR0EsRUFBQSxXQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsRUFHQSxNQWpCQSxHQUFBLEdBQUEsdUJBaUJBLEVBQUEsUUFBQSxlQUFBLFNBQUEsRUFBQSxHQUNBLE9BQUEsR0FDQSxJQUFBLElBQ0EsTUFBQSxHQUFBLGFBQ0EsS0FBQSxJQUNBLE1BQUEsR0FBQSxFQUFBLFdBQUEsRUFDQSxLQUFBLElBQ0EsTUFBQSxHQUFBLEVBQUEsVUFDQSxLQUFBLElBQ0EsTUFBQSxHQUFBLEVBQUEsV0FDQSxLQUFBLElBQ0EsTUFBQSxHQUFBLEVBQUEsYUFDQSxLQUFBLElBQ0EsTUFBQSxHQUFBLEVBQUEsYUFDQSxLQUFBLElBQ0EsTUFBQSxHQUFBLEVBQUEsbUJBQUEsRUFDQSxTQUNBLEtBQUEsSUFBQSxPQUFBLDRCQUFBLE9BNEJBLFNBQUEsU0FBQSxFQUFBLEVBQUEsR0FHQSxNQUZBLEdBQUEsR0FBQSxrQkFFQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsR0FDQSxHQUFBLEdBQUEsRUFBQSxNQUFBLEtBQ0EsRUFBQSxDQUVBLEtBQ0EsSUFBQSxHQUFBLEtBQUEsR0FDQSxFQUFBLEVBQUEsRUFBQSxJQUVBLE1BQUEsR0FDQSxFQUFBLEVBR0EsTUFBQSxnQkFBQSxJQUFBLGdCQUFBLEdBQUEsRUFBQSxNQU1BLFFBQ0EsT0FBQSxnQkFDQSxTQUFBLFNBQUEsR0FDQSxRQUFBLGNBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBtb2R1bGVcbiAgICAgKiBAbmFtZSBtbS5sb2dnZXJcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFRoZSBgbW0ubG9nZ2VyYCBtb2R1bGUgcHJvdmlkZXMgZW5oYW5jZWQgc3VwcG9ydCBmb3IgQW5ndWxhcidzIHtAbGluayBodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvbmcvc2VydmljZS8kbG9nIGAkbG9nYH0gc2VydmljZS5cbiAgICAgKiBUaGlzIG1vZHVsZSBhZGRzIG1vcmUgZmVhdHVyZXMgZm9yIGAkbG9nYCBzZXJ2aWNlIGxpa2UgYSB0aW1lc3RhbXAsIGhpbnQgYWJvdXQgd2hlcmUgdGhlIG1lc3NhZ2Ugd2FzIGNyZWF0ZWQsIHR1cm4gb2ZmIGFsbFxuICAgICAqIG9yIHNwZWNpZmljIGtpbmQgb2YgbWVzc2FnZXMgKGxpa2UgaW5mbygpIGFuZCBkZWJ1ZygpKS5cbiAgICAgKlxuICAgICAqICMgRXhhbXBsZVxuICAgICAqIFNlZSB7QGxpbmsgbW0ubG9nZ2VyLkxvZ2dlciNleGFtcGxlIExvZ2dlcn0gZm9yIGFuIGV4YW1wbGUgb2YgY29uZmlndXJpbmcgYW5kIHVzaW5nIGBMb2dnZXJgLlxuICAgICAqXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbmdkb2MgcHJvdmlkZXJcbiAgICAgKiBAbmFtZSBMb2dnZXJQcm92aWRlclxuICAgICAqIEBtb2R1bGUgbW0ubG9nZ2VyXG4gICAgICogQHJlcXVpcmVzIG5nLiRsb2dcbiAgICAgKiBAcmVxdWlyZXMgTG9nZ2VyVXRpbHNcbiAgICAgKlxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqIFVzZSB0aGUgYExvZ2dlclByb3ZpZGVyYCB0byBjb25maWd1cmUgaG93IHRoZSBhcHBsaWNhdGlvbiBsb2dzIG1lc3NhZ2VzLlxuICAgICAqXG4gICAgICogQHVzYWdlXG4gICAgICogVGhlIGRlZmF1bHQgaXMgdG8gbG9nIGFsbCBraW5kIG9mIG1lc3NhZ2VzLiBUaGlzIGNhbiBiZSBkaXNhYmxlZCBieSBjb25maWd1cmluZyB0aGUgYExvZ2dlclByb3ZpZGVyYCBsaWtlIHRoaXM6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAgYW5ndWxhci5tb2R1bGUoJ2xvZ2dlclByb3ZpZGVyRGVtbycsIFtdKS5jb25maWcoWydMb2dnZXJQcm92aWRlcicsIGZ1bmN0aW9uIChMb2dnZXJQcm92aWRlcikge1xuICAgICAqICAgICAgTG9nZ2VyUHJvdmlkZXIuZGlzYWJsZWQoKTtcbiAgICAgKiAgIH1dKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIG9yIGRpc2FibGUgb25seSBjZXJ0YWluIGtpbmQgb2YgbWVzc2FnZXMgbGlrZSB0aGlzOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIGFuZ3VsYXIubW9kdWxlKCdsb2dnZXJQcm92aWRlckRlbW8nLCBbXSkuY29uZmlnKFsnTG9nZ2VyUHJvdmlkZXInLCBmdW5jdGlvbiAoTG9nZ2VyUHJvdmlkZXIpIHtcbiAgICAgKiAgICAgIExvZ2dlclByb3ZpZGVyLmRpc2FibGVkKFtMb2dnZXJQcm92aWRlci5sZXZlbC5JTkZPLCBMb2dnZXJQcm92aWRlci5sZXZlbC5ERUJVR10pO1xuICAgICAqICAgfV0pO1xuICAgICAqIGBgYFxuICAgICAqID4gKipOb3RlOioqIFRoZXJlIGFyZSA1IGxvZyBsZXZlbHMgYXQgdGhlIG1vbWVudDpcbiAgICAgKiAtIExvZ2dlclByb3ZpZGVyLmxldmVsLkxPR1xuICAgICAqIC0gTG9nZ2VyUHJvdmlkZXIubGV2ZWwuSU5GT1xuICAgICAqIC0gTG9nZ2VyUHJvdmlkZXIubGV2ZWwuREVCVUdcbiAgICAgKiAtIExvZ2dlclByb3ZpZGVyLmxldmVsLldBUk5cbiAgICAgKiAtIExvZ2dlclByb3ZpZGVyLmxldmVsLkVSUk9SXG4gICAgICpcbiAgICAgKiBUaGlzIGxvZ2dlciBzdXBwb3J0IGludGVycG9sYXRlIHZhcmlhYmxlcyBpbnRvIHRoZSBtZXNzYWdlIHN0cmluZyBzbyB0aGVzZSBhcmUgdmFsaWQgbG9nZ2VyIGltcGxlbWVudGF0aW9uczpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogICB2YXIgbG9nZ2VyID0gTG9nZ2VyLmdldExvZ2dlcignTG9nZ2VyRXhhbXBsZScpOyAvLyBOYW1lIG9mIHRoZSBmaWxlIC8gY2xhc3MgLyBtb2R1bGVcbiAgICAgKiAgIGxvZ2dlci5sb2coJ1RoaXMgaXMgYW4gbG9nIG1lc3NhZ2UuJyk7IC8vIFwiMjAxNC0wNy0xOCAxNTo1MzoyMi44MzEgW2xvZ10gTG9nZ2VyRXhhbXBsZTogVGhpcyBpcyBhbiBpbmZvIG1lc3NhZ2UuXCJcbiAgICAgKiAgIGxvZ2dlci5pbmZvKCdUaGlzIGlzIGFuIGluZm8gbWVzc2FnZSB3aXRoIHswfScsIFsnaW50ZXJwb2xhdGUgdmFyaWFibGUuJ10pOyAvLyBcIjIwMTQtMDctMTggMTU6NTM6MjIuODMyIFtpbmZvXSBMb2dnZXJFeGFtcGxlOiBUaGlzIGlzIGFuIGluZm8gbWVzc2FnZSB3aXRoIGludGVycG9sYXRlIHZhcmlhYmxlLlwiXG4gICAgICogICBsb2dnZXIuZXJyb3IoJ1RoaXMgaXMgYSB7MH0gZXJyb3IhIHsxfScsIFsgJ2JpZycsICdKdXN0IGtpZGRpbmchJyBdKTsgLy8gXCIyMDE0LTA3LTE4IDE1OjUzOjIyLjgzMyBbd2Fybl0gTG9nZ2VyRXhhbXBsZTogVGhpcyBpcyBhIGJpZyBlcnJvciEgSnVzdCBraWRkaW5nIVwiXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGlzIGxvZ2dlciBpcyBhbHNvIHdvcmtpbmcgd2l0aCBleGNlcHRpb24gdGhhdCBoYXZlIGEgdHlwZSBvZiBgRXJyb3JgOlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiAgIGxvZ2dlci5lcnJvcihtc2csIG51bGwsIGV4Y2VwdGlvbik7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICA8ZXhhbXBsZSBtb2R1bGU9XCJsb2dFeGFtcGxlXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgYW5ndWxhci5tb2R1bGUoJ2xvZ2dlckV4YW1wbGUnLCBbbW0ubG9nZ2VyXSlcbiAgICAgLmNvbnRyb2xsZXIoJ0xvZ2dlckNvbnRyb2xsZXInLCBbJyRzY29wZScsICdMb2dnZXInLCBmdW5jdGlvbigkc2NvcGUsIExvZ2dlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvZ2dlciA9IExvZ2dlci5nZXRMb2dnZXIoJ0xvZ2dlckNvbnRyb2xsZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gJ0hlbGxvIFdvcmxkISc7XG4gICAgICAgICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkxvZ2dlckNvbnRyb2xsZXJcIj5cbiAgICAgPHA+UmVsb2FkIHRoaXMgcGFnZSB3aXRoIG9wZW4gY29uc29sZSwgZW50ZXIgdGV4dCBhbmQgaGl0IHRoZSBsb2cgYnV0dG9uLi4uPC9wPlxuICAgICBNZXNzYWdlOlxuICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1lc3NhZ2VcIi8+XG4gICAgIDxidXR0b24gbmctY2xpY2s9XCJsb2dnZXIubG9nKG1lc3NhZ2UpXCI+bG9nPC9idXR0b24+XG4gICAgIDxidXR0b24gbmctY2xpY2s9XCJsb2dnZXIud2FybihtZXNzYWdlKVwiPndhcm48L2J1dHRvbj5cbiAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImxvZ2dlci5pbmZvKG1lc3NhZ2UpXCI+aW5mbzwvYnV0dG9uPlxuICAgICA8YnV0dG9uIG5nLWNsaWNrPVwibG9nZ2VyLmVycm9yKG1lc3NhZ2UpXCI+ZXJyb3I8L2J1dHRvbj5cbiAgICAgPC9kaXY+XG4gICAgIDwvZmlsZT5cbiAgICAgPC9leGFtcGxlPlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZ2dlclByb3ZpZGVyKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyB0byB0dXJuIG9uL29mZiBsb2dnZXJcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaXNFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExvZyBsZXZlbHNcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIG9wdGlvbnMgPSBbJ2luZm8nLCAnd2FybicsICdkZWJ1ZycsICdlcnJvciddO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2cgbGV2ZWxzXG4gICAgICAgICAqIEB0eXBlIHt7SU5GTzogc3RyaW5nLCBXQVJOOiBzdHJpbmcsIERFQlVHOiBzdHJpbmcsIEVSUk9SOiBzdHJpbmd9fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sZXZlbCA9IHtcbiAgICAgICAgICAgIExPRzogJ2xvZycsXG4gICAgICAgICAgICBJTkZPOiAnaW5mbycsXG4gICAgICAgICAgICBXQVJOOiAnd2FybicsXG4gICAgICAgICAgICBERUJVRzogJ2RlYnVnJyxcbiAgICAgICAgICAgIEVSUk9SOiAnZXJyb3InXG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAqIEBuYW1lIExvZ2dlclByb3ZpZGVyI2Rpc2FibGVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgKiBEaXNhYmxlIGFsbCBsb2cgbWVzc2FnZXMgb3IgZGlzYWJsZSBvbmx5IGNlcnRhaW4ga2luZCBvZiBsb2cgbWVzc2FnZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nW109fSBfb3B0aW9ucyAtIGFuIG9wdGlvbmFsIGFycmF5IG9mIGxvZyBsZXZlbCBvcHRpb25zXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gZnVuY3Rpb24gKF9vcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gX29wdGlvbnMgfHwgb3B0aW9ucztcbiAgICAgICAgICAgIGlzRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLiRnZXQgPSBbJyRsb2cnLCAnTG9nZ2VyVXRpbHMnLCBmdW5jdGlvbiAoJGxvZywgTG9nZ2VyVXRpbHMpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgKiBBIExvZ2dlciBjbGFzc1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gdGhlIGxvZ2dlciBuYW1lIChuYW1lIG9mIHRoZSBmaWxlLCBjbGFzcyBvciBtb2R1bGUpXG4gICAgICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIExvZ2dlciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQHR5cGUge3N0cmluZ30gLSB0aGUgbG9nZ2VyIG5hbWUgKG5hbWUgb2YgdGhlIGZpbGUsIGNsYXNzIG9yIG1vZHVsZSlcbiAgICAgICAgICAgICAgICAgKiBAZGVmYXVsdCAnJ1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMubmFtZSA9IChuYW1lICE9PSB1bmRlZmluZWQpID8gbmFtZSA6ICcnO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgTG9nZ2VyLnByb3RvdHlwZSA9IHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICAgICAgICogQG5hbWUgTG9nZ2VyI19sb2dcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvbiBPdmVyd3JpdGUgbmcuJGxvZyBtZXNzYWdlc1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9yaWdpbmFsTG9nRm4gLSAkbG9nIGZ1bmN0aW9uIG5hbWVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0geyp9IGFyZ3MgLSBpbmZvcm1hdGlvbiBsaWtlIG1lc3NhZ2UsIGVycm9ycywgaW50ZXJwb2xhdGlvbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIF9sb2c6IGZ1bmN0aW9uIChvcmlnaW5hbExvZ0ZuLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKG9wdGlvbnMuaW5kZXhPZihvcmlnaW5hbExvZ0ZuKSAhPT0gLTEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vdyA9IExvZ2dlclV0aWxzLmJ1aWxkVGltZVN0cmluZyhuZXcgRGF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSAnJywgc3VwcGxhbnREYXRhID0gW10sIGVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBMb2dnZXJVdGlscy5zdXBwbGFudCgnezB9IFt7MX1dIHsyfTogezN9JywgW25vdywgb3JpZ2luYWxMb2dGbiwgdGhpcy5uYW1lLCBhcmdzWzBdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcGxhbnREYXRhID0gYXJnc1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gTG9nZ2VyVXRpbHMuc3VwcGxhbnQoJ3swfSBbezF9XSB7Mn06IHszfScsIFtub3csIG9yaWdpbmFsTG9nRm4sIHRoaXMubmFtZSwgYXJnc1swXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gYXJnc1syXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gTG9nZ2VyVXRpbHMuc3VwcGxhbnQoJ3swfSBbezF9XSB7Mn06IHszfScsIFtub3csIG9yaWdpbmFsTG9nRm4sIHRoaXMubmFtZSwgYXJnc1swXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGVycm9yIGlzIG5vdCBudWxsIHRoZW4gcGFzcyBlcnJvciB0byAkbG9nIHNlcnZpY2UgYW5kIGxldCAkbG9nIHNlcnZpY2UgdG8gZGVhbCB3aXRoIGl0ICgkbG9nIHNlcnZpY2UgY29udGFpbnMgdGhlIGNvZGUgdGhhdCBjYW4gaGFuZGxlIGV4Y2VwdGlvbnMgZXRjLilcbiAgICAgICAgICAgICAgICAgICAgaWYoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2dbb3JpZ2luYWxMb2dGbl0uY2FsbChudWxsLCBMb2dnZXJVdGlscy5zdXBwbGFudChtZXNzYWdlLCBzdXBwbGFudERhdGEpLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbG9nW29yaWdpbmFsTG9nRm5dLmNhbGwobnVsbCwgTG9nZ2VyVXRpbHMuc3VwcGxhbnQobWVzc2FnZSwgc3VwcGxhbnREYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgICAgICAgKiBAbmFtZSBMb2dnZXIjbG9nXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgKiBXcml0ZSBhIGxvZyBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgbG9nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnbG9nJywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcbiAgICAgICAgICAgICAgICAgKiBAbmFtZSBMb2dnZXIjaW5mb1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICogV3JpdGUgYSBpbmZvIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpbmZvOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZygnaW5mbycsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICAgICAgICogQG5hbWUgTG9nZ2VyI3dhcm5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAqIFdyaXRlIGEgd2FybiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgd2FybjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ3dhcm4nLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAgICAgICAqIEBuYW1lIExvZ2dlciNkZWJ1Z1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICogV3JpdGUgYSBkZWJ1ZyBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZGVidWc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nKCdkZWJ1ZycsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICAgICAgICogQG5hbWUgTG9nZ2VyI2Vycm9yXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgKiBXcml0ZSBhIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2coJ2Vycm9yJywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICAgKiBAbmFtZSBMb2dnZXIjZ2V0TG9nZ2VyXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgICAgICAgKiBSZXR1cm4gdGhlIG5ldyBjcmVhdGVkIGxvZ2dlciBpbnN0YW5jZS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIHRoZSBsb2dnZXIgbmFtZSAobmFtZSBvZiB0aGUgZmlsZSwgY2xhc3Mgb3IgbW9kdWxlKVxuICAgICAgICAgICAgICogQHJldHVybnMge0xvZ2dlcn0gdGhlIG5ldyBjcmVhdGVkIExvZ2dlciBpbnN0YW5jZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBMb2dnZXIuZ2V0TG9nZ2VyID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExvZ2dlcihuYW1lKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiBMb2dnZXI7XG4gICAgICAgIH1dO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXG4gICAgICogQG5hbWUgTG9nZ2VyVXRpbHNcbiAgICAgKiBAbW9kdWxlIG1tLmxvZ2dlclxuICAgICAqXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogVXRpbGl0aWVzIGZvciBgTG9nZ2VyYCBsaWtlIGJ1aWxkIGRhdGUgdGltZXN0YW1wIHN0cmluZywgc3RyaW5nIHN1cHBsYW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZ2dlclV0aWxzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXG4gICAgICAgICAgICAgKiBAbmFtZSBMb2dnZXJVdGlscyNidWlsZFRpbWVTdHJpbmdcbiAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICogRGF0ZVRpbWUgdXRpbGl0eSB0aGF0IHNwaXRzIG91dCBVVEMgdGltZXN0YW1wIHN0cmluZ3MgdXN1YWxseSB1c2VkIGluIGEgcmVwb3J0aW5nLCBwcmludC1jYXBhYmxlIHByb2Nlc3MuXG4gICAgICAgICAgICAgKiBJZiB0aGUgZm9ybWF0IGFyZ3VtZW50IGlzIG5vdCBwYXNzIHRoZW4gZGVmYXVsdCBmb3JtYXQgaXMgYCVZLSVNLSVkICVoOiVtOiVzLiV6YCBlLmcuOiAoMjAxNC0wNy0xNyAxNToxNDowNS4wOTQpLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqICMgVXNhZ2VcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBgYGBqc1xuICAgICAgICAgICAgICogICBhbmd1bGFyLm1vZHVsZSgnbG9nZ2VyVXRpbHNCdWlsZFRpbWVTdHJpbmdEZW1vJywgW10pLmNvbmZpZyhbJ0xvZ2dlclV0aWxzJywgZnVuY3Rpb24gKExvZ2dlclV0aWxzKSB7XG4gICAgICAgICAgICAgKiAgICAgIHZhciBub3cgPSBMb2dnZXJVdGlscy5idWlsZFRpbWVTdHJpbmcobmV3IERhdGUoKSk7XG4gICAgICAgICAgICAgKiAgICAgIGNvbnNvbGUubG9nKG5vdyk7IC8vIHdpbGwgcHJpbnQgMjAxNC0wNy0xNyAxNToxNDowNS4wOTRcbiAgICAgICAgICAgICAqICAgfV0pO1xuICAgICAgICAgICAgICogYGBgXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtIHtEYXRlfSBkYXRlIC0gdGhlIGN1cnJlbnQgZGF0ZVxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBmb3JtYXQgLSB0aGUgb3B0aW9uYWwgdGltZXN0YW1wIHN0cmluZyBmb3JtYXRcbiAgICAgICAgICAgICAqIEB0aHJvd3MgKFN0cmluZylcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHsqfSB0aGUgbmV3IGNyZWF0ZWQgZGF0ZSB0aW1lc3RhbXAgc3RyaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGJ1aWxkVGltZVN0cmluZzogZnVuY3Rpb24gKGRhdGUsIGZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJVktJU0tJWQgJWg6JW06JXMuJXonO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcGFkKHZhbHVlLCBpc01pbGxpU2Vjb25kcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIChpc01pbGxpU2Vjb25kcykgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc01pbGxpU2Vjb25kcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTWlsbGlTZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJzAwJyArIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA8IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gJzAnICsgdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuKHZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoIDwgMikgPyAnMCcgKyB2YWx1ZSA6IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXQucmVwbGFjZSgvJShbYS16QS1aXSkvZywgZnVuY3Rpb24gKF8sIGZtdENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChmbXRDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdZJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhZChkYXRlLmdldE1vbnRoKCkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2QnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWQoZGF0ZS5nZXREYXRlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhZChkYXRlLmdldEhvdXJzKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhZChkYXRlLmdldE1pbnV0ZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFkKGRhdGUuZ2V0U2Vjb25kcygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3onOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYWQoZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgZm9ybWF0IGNvZGU6ICcgKyBmbXRDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxuICAgICAgICAgICAgICogQG5hbWUgTG9nZ2VyVXRpbHMjc3VwcGxhbnRcbiAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICogU3RyaW5nIHN1cHBsYW50IHV0aWxpdHkgKHNpbWlsYXIgdG8gYnV0IG1vcmUgcG93ZXJmdWwgdGhhbiBzcHJpbnRmKCkpLiBEb2VzIHZhcmlhYmxlIHN1YnN0aXR1dGlvbiBvbiB0aGUgc3RyaW5nLlxuICAgICAgICAgICAgICogSXQgc2NhbnMgdGhyb3VnaCB0aGUgc3RyaW5nIGxvb2tpbmcgZm9yIGV4cHJlc3Npb25zIGVuY2xvc2VkIGluIHsgfSBicmFjZXMuIElmIGFuIGV4cHJlc3Npb24gaXMgZm91bmQsIHVzZSBpdFxuICAgICAgICAgICAgICogYXMgYSBrZXkgb24gdGhlIG9iamVjdCwgYW5kIGlmIHRoZSBrZXkgaGFzIGEgc3RyaW5nIHZhbHVlIG9yIG51bWJlciB2YWx1ZSwgaXQgaXMgc3Vic3RpdHV0ZWQgZm9yIHRoZSBicmFja2V0XG4gICAgICAgICAgICAgKiBleHByZXNzaW9uIGFuZCBpdCByZXBlYXRzLlxuICAgICAgICAgICAgICogQHNlZSBodHRwOi8vamF2YXNjcmlwdC5jcm9ja2ZvcmQuY29tL3JlbWVkaWFsLmh0bWxcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiAjIFVzYWdlXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogYGBganNcbiAgICAgICAgICAgICAqICAgYW5ndWxhci5tb2R1bGUoJ2xvZ2dlclV0aWxzU3VwcGxhbnREZW1vJywgW10pLmNvbmZpZyhbJ0xvZ2dlclV0aWxzJywgZnVuY3Rpb24gKExvZ2dlclV0aWxzKSB7XG4gICAgICAgICAgICAgKiAgICAgIHZhciBtZXNzYWdlID0gTG9nZ2VyVXRpbHMuc3VwcGxhbnQoJ3swfSBbezF9XSB7Mn06IHszfScsIFsgTG9nZ2VyVXRpbHMuYnVpbGRUaW1lU3RyaW5nKG5ldyBEYXRlKCkpLCAnaW5mbycsICdTZWFyY2hDdHJsJywgJ1RoaXMgaXMgYSBpbmZvIG1lc3NhZ2UuJyBdKVxuICAgICAgICAgICAgICogICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTsgLy8gd2lsbCBwcmludCAyMDE0LTA3LTE3IDE1OjE0OjA1LjA5NCBbaW5mb10gU2VhcmNoQ3RybDogVGhpcyBpcyBhIGluZm8gbWVzc2FnZS5cbiAgICAgICAgICAgICAqICAgfV0pO1xuICAgICAgICAgICAgICogYGBgXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHBhcmFtIHt0ZW1wbGF0ZX0gdGVtcGxhdGUgLSB0aGUgZXhwcmVzc2lvbnMgZW5jbG9zZWQgaW4geyB9IGJyYWNlc1xuICAgICAgICAgICAgICogQHBhcmFtIHt2YWx1ZXNbXX0gdmFsdWVzIC0gdGhlIGFycmF5IG9mIHN0cmluZyBwYXJhbSB0aGF0IHNob3VsZCBiZSBzdWJzdGl0dXRlZFxuICAgICAgICAgICAgICogQHBhcmFtIHtwYXR0ZXJuPX0gcGF0dGVybiAtIHRoZSByZWdleCBwYXR0ZXJuXG4gICAgICAgICAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhcmlhYmxlIHN1YnN0aXR1dGlvbiBvbiB0aGUgc3RyaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN1cHBsYW50OiBmdW5jdGlvbiAodGVtcGxhdGUsIHZhbHVlcywgcGF0dGVybikge1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuIHx8IC9cXHsoW15cXHtcXH1dKilcXH0vZztcblxuICAgICAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKHBhdHRlcm4sIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwID0gYi5zcGxpdCgnLicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgciA9IHZhbHVlcztcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcyBpbiBwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IHJbcFtzXV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBhO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YgciA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHIgPT09ICdudW1iZXInKSA/IHIgOiBhO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnbW0ubG9nZ2VyJywgW10pXG4gICAgICAgIC5wcm92aWRlcignTG9nZ2VyJywgTG9nZ2VyUHJvdmlkZXIpXG4gICAgICAgIC5mYWN0b3J5KCdMb2dnZXJVdGlscycsIExvZ2dlclV0aWxzKTtcbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=